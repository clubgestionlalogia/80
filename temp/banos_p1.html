<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Diagonal rellena desde e3</title>
</head>
<body>
  <div style="position: relative; width: 720px; height: 760px;">
    <table id="tabla" style="border-collapse: collapse; position: relative; z-index: 1;"></table>
    <svg id="overlay" width="720" height="760" style="position: absolute; top: 0; left: 0; z-index: 2; pointer-events: none;"></svg>
  </div>

  <script>
    const filas = 14;
    const columnas = 10;
    const cellSize = 40;
    const tabla = document.getElementById("tabla");
    const svg = document.getElementById("overlay");

    // Generar tabla
    for (let f = 0; f < filas; f++) {
      const tr = document.createElement("tr");
      for (let c = 0; c < columnas; c++) {
        const td = document.createElement("td");
        td.setAttribute("style", "width: 40px; height: 40px; background-color: #eee; border: 1px solid #ccc;");
        tr.appendChild(td);
      }
      tabla.appendChild(tr);
    }

    // Coordenadas del polígono rojo (zona superior a la diagonal)
    const xA = 0 * cellSize;            // columna 1 (índice 0)
    const yA = 2.23 * cellSize + cellSize; // fila 7 (índice 6 + altura)

    const xB = 10.77 * cellSize;            // columna 10 (índice 9)
    const yB = 14.06 * cellSize + cellSize; // fila 19 (índice 18 + altura)

    const xC = 0;                       // borde izquierdo
    const yC = 0;                       // borde superior

    const xD = xB;                      // mismo x que punto B
    const yD = 0;                       // borde superior

    // Dibujar polígono SVG
    const polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
    polygon.setAttribute("points", `${xC},${yC} ${xD},${yD} ${xB},${yB} ${xA},${yA}`);
    polygon.setAttribute("fill", "red");
    polygon.setAttribute("opacity", "1");
    svg.appendChild(polygon);
  </script>
</body>
</html>